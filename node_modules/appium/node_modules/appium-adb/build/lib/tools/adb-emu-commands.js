"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));

var _logger = _interopRequireDefault(require("../logger.js"));

var _lodash = _interopRequireDefault(require("lodash"));

const PHONE_NUMBER_PATTERN = /^[+]?[(]?[0-9]*[)]?[-\s.]?[0-9]*[-\s.]?[0-9]{2,}$/im;
let emuMethods = {};
emuMethods.POWER_AC_STATES = {
  POWER_AC_ON: 'on',
  POWER_AC_OFF: 'off'
};
emuMethods.GSM_CALL_ACTIONS = {
  GSM_CALL: 'call',
  GSM_ACCEPT: 'accept',
  GSM_CANCEL: 'cancel',
  GSM_HOLD: 'hold'
};
emuMethods.GSM_VOICE_STATES = {
  GSM_VOICE_UNREGISTERED: 'unregistered',
  GSM_VOICE_HOME: 'home',
  GSM_VOICE_ROAMING: 'roaming',
  GSM_VOICE_SEARCHING: 'searching',
  GSM_VOICE_DENIED: 'denied',
  GSM_VOICE_OFF: 'off',
  GSM_VOICE_ON: 'on'
};
emuMethods.GSM_SIGNAL_STRENGTHS = [0, 1, 2, 3, 4];
emuMethods.NETWORK_SPEED = {
  GSM: 'gsm',
  SCSD: 'scsd',
  GPRS: 'gprs',
  EDGE: 'edge',
  UMTS: 'umts',
  HSDPA: 'hsdpa',
  LTE: 'lte',
  EVDO: 'evdo',
  FULL: 'full'
};

emuMethods.isEmulatorConnected = function () {
  var _isEmulatorConnected = (0, _asyncToGenerator2.default)(function* () {
    let emulators = yield this.getConnectedEmulators();
    return !!_lodash.default.find(emulators, x => x && x.udid === this.curDeviceId);
  });

  return function isEmulatorConnected() {
    return _isEmulatorConnected.apply(this, arguments);
  };
}();

emuMethods.verifyEmulatorConnected = function () {
  var _verifyEmulatorConnected = (0, _asyncToGenerator2.default)(function* () {
    if (!(yield this.isEmulatorConnected())) {
      throw new Error(`The emulator "${this.curDeviceId}" was unexpectedly disconnected`);
    }
  });

  return function verifyEmulatorConnected() {
    return _verifyEmulatorConnected.apply(this, arguments);
  };
}();

emuMethods.fingerprint = function () {
  var _fingerprint = (0, _asyncToGenerator2.default)(function* (fingerprintId) {
    if (!fingerprintId) {
      throw new Error('Fingerprint id parameter must be defined');
    }

    let level = yield this.getApiLevel();

    if (level < 23) {
      throw new Error(`Device API Level must be >= 23. Current Api level '${level}'`);
    }

    yield this.adbExecEmu(['finger', 'touch', fingerprintId]);
  });

  return function fingerprint(_x) {
    return _fingerprint.apply(this, arguments);
  };
}();

emuMethods.rotate = function () {
  var _rotate = (0, _asyncToGenerator2.default)(function* () {
    yield this.adbExecEmu(['rotate']);
  });

  return function rotate() {
    return _rotate.apply(this, arguments);
  };
}();

emuMethods.powerAC = function () {
  var _powerAC = (0, _asyncToGenerator2.default)(function* (state = 'on') {
    if (_lodash.default.values(emuMethods.POWER_AC_STATES).indexOf(state) === -1) {
      throw new Error(`Wrong power AC state sent '${state}'. Supported values: ${_lodash.default.values(emuMethods.POWER_AC_STATES)}]`);
    }

    yield this.adbExecEmu(['power', 'ac', state]);
  });

  return function powerAC() {
    return _powerAC.apply(this, arguments);
  };
}();

emuMethods.powerCapacity = function () {
  var _powerCapacity = (0, _asyncToGenerator2.default)(function* (percent = 100) {
    percent = parseInt(percent, 10);

    if (isNaN(percent) || percent < 0 || percent > 100) {
      throw new Error(`The percentage value should be valid integer between 0 and 100`);
    }

    yield this.adbExecEmu(['power', 'capacity', percent]);
  });

  return function powerCapacity() {
    return _powerCapacity.apply(this, arguments);
  };
}();

emuMethods.powerOFF = function () {
  var _powerOFF = (0, _asyncToGenerator2.default)(function* () {
    yield this.powerAC(emuMethods.POWER_AC_STATES.POWER_AC_OFF);
    yield this.powerCapacity(0);
  });

  return function powerOFF() {
    return _powerOFF.apply(this, arguments);
  };
}();

emuMethods.sendSMS = function () {
  var _sendSMS = (0, _asyncToGenerator2.default)(function* (phoneNumber, message = '') {
    message = message.trim();

    if (message === '') {
      throw new Error('Sending an SMS requires a message');
    }

    phoneNumber = `${phoneNumber}`.replace(/\s*/, '');

    if (!PHONE_NUMBER_PATTERN.test(phoneNumber)) {
      throw new Error(`Invalid sendSMS phoneNumber param ${phoneNumber}`);
    }

    yield this.adbExecEmu(['sms', 'send', phoneNumber, message]);
  });

  return function sendSMS(_x2) {
    return _sendSMS.apply(this, arguments);
  };
}();

emuMethods.gsmCall = function () {
  var _gsmCall = (0, _asyncToGenerator2.default)(function* (phoneNumber, action = '') {
    if (_lodash.default.values(emuMethods.GSM_CALL_ACTIONS).indexOf(action) === -1) {
      throw new Error(`Invalid gsm action param ${action}. Supported values: ${_lodash.default.values(emuMethods.GSM_CALL_ACTIONS)}`);
    }

    phoneNumber = `${phoneNumber}`.replace(/\s*/, '');

    if (!PHONE_NUMBER_PATTERN.test(phoneNumber)) {
      throw new Error(`Invalid gsmCall phoneNumber param ${phoneNumber}`);
    }

    yield this.adbExecEmu(['gsm', action, phoneNumber]);
  });

  return function gsmCall(_x3) {
    return _gsmCall.apply(this, arguments);
  };
}();

emuMethods.gsmSignal = function () {
  var _gsmSignal = (0, _asyncToGenerator2.default)(function* (strength = 4) {
    strength = parseInt(strength, 10);

    if (emuMethods.GSM_SIGNAL_STRENGTHS.indexOf(strength) === -1) {
      throw new Error(`Invalid signal strength param ${strength}. Supported values: ${_lodash.default.values(emuMethods.GSM_SIGNAL_STRENGTHS)}`);
    }

    _logger.default.info('gsm signal-profile <strength> changes the reported strength on next (15s) update.');

    yield this.adbExecEmu(['gsm', 'signal-profile', strength]);
  });

  return function gsmSignal() {
    return _gsmSignal.apply(this, arguments);
  };
}();

emuMethods.gsmVoice = function () {
  var _gsmVoice = (0, _asyncToGenerator2.default)(function* (state = 'on') {
    if (_lodash.default.values(emuMethods.GSM_VOICE_STATES).indexOf(state) === -1) {
      throw new Error(`Invalid gsm voice state param ${state}. Supported values: ${_lodash.default.values(emuMethods.GSM_VOICE_STATES)}`);
    }

    yield this.adbExecEmu(['gsm', 'voice', state]);
  });

  return function gsmVoice() {
    return _gsmVoice.apply(this, arguments);
  };
}();

emuMethods.networkSpeed = function () {
  var _networkSpeed = (0, _asyncToGenerator2.default)(function* (speed = 'full') {
    if (_lodash.default.values(emuMethods.NETWORK_SPEED).indexOf(speed) === -1) {
      throw new Error(`Invalid network speed param ${speed}. Supported values: ${_lodash.default.values(emuMethods.NETWORK_SPEED)}`);
    }

    yield this.adbExecEmu(['network', 'speed', speed]);
  });

  return function networkSpeed() {
    return _networkSpeed.apply(this, arguments);
  };
}();

var _default = emuMethods;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi90b29scy9hZGItZW11LWNvbW1hbmRzLmpzIl0sIm5hbWVzIjpbIlBIT05FX05VTUJFUl9QQVRURVJOIiwiZW11TWV0aG9kcyIsIlBPV0VSX0FDX1NUQVRFUyIsIlBPV0VSX0FDX09OIiwiUE9XRVJfQUNfT0ZGIiwiR1NNX0NBTExfQUNUSU9OUyIsIkdTTV9DQUxMIiwiR1NNX0FDQ0VQVCIsIkdTTV9DQU5DRUwiLCJHU01fSE9MRCIsIkdTTV9WT0lDRV9TVEFURVMiLCJHU01fVk9JQ0VfVU5SRUdJU1RFUkVEIiwiR1NNX1ZPSUNFX0hPTUUiLCJHU01fVk9JQ0VfUk9BTUlORyIsIkdTTV9WT0lDRV9TRUFSQ0hJTkciLCJHU01fVk9JQ0VfREVOSUVEIiwiR1NNX1ZPSUNFX09GRiIsIkdTTV9WT0lDRV9PTiIsIkdTTV9TSUdOQUxfU1RSRU5HVEhTIiwiTkVUV09SS19TUEVFRCIsIkdTTSIsIlNDU0QiLCJHUFJTIiwiRURHRSIsIlVNVFMiLCJIU0RQQSIsIkxURSIsIkVWRE8iLCJGVUxMIiwiaXNFbXVsYXRvckNvbm5lY3RlZCIsImVtdWxhdG9ycyIsImdldENvbm5lY3RlZEVtdWxhdG9ycyIsIl8iLCJmaW5kIiwieCIsInVkaWQiLCJjdXJEZXZpY2VJZCIsInZlcmlmeUVtdWxhdG9yQ29ubmVjdGVkIiwiRXJyb3IiLCJmaW5nZXJwcmludCIsImZpbmdlcnByaW50SWQiLCJsZXZlbCIsImdldEFwaUxldmVsIiwiYWRiRXhlY0VtdSIsInJvdGF0ZSIsInBvd2VyQUMiLCJzdGF0ZSIsInZhbHVlcyIsImluZGV4T2YiLCJwb3dlckNhcGFjaXR5IiwicGVyY2VudCIsInBhcnNlSW50IiwiaXNOYU4iLCJwb3dlck9GRiIsInNlbmRTTVMiLCJwaG9uZU51bWJlciIsIm1lc3NhZ2UiLCJ0cmltIiwicmVwbGFjZSIsInRlc3QiLCJnc21DYWxsIiwiYWN0aW9uIiwiZ3NtU2lnbmFsIiwic3RyZW5ndGgiLCJsb2ciLCJpbmZvIiwiZ3NtVm9pY2UiLCJuZXR3b3JrU3Bl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QSxrREFBc0IsV0FBeUJwQixLQUFLLEdBQUcsSUFBakMsRUFBdUM7QUFFM0QsUUFBSWQsZ0JBQUVlLE1BQUYsQ0FBUzlDLFVBQVUsQ0FBQ1MsZ0JBQXBCLEVBQXNDc0MsT0FBdEMsQ0FBOENGLEtBQTlDLE1BQXlELENBQUMsQ0FBOUQsRUFBaUU7QUFDL0QsWUFBTSxJQUFJUixLQUFKLENBQVcsaUNBQWdDUSxLQUFNLHVCQUFzQmQsZ0JBQUVlLE1BQUYsQ0FBUzlDLFVBQVUsQ0FBQ1MsZ0JBQXBCLENBQXNDLEVBQTdHLENBQU47QUFDRDs7QUFDRCxVQUFNLEtBQUtpQyxVQUFMLENBQWdCLENBQUMsS0FBRCxFQUFRLE9BQVIsRUFBaUJHLEtBQWpCLENBQWhCLENBQU47QUFDRCxHQU5EOztBQUFBLGtCQUFxQ29CLFFBQXJDO0FBQUE7QUFBQTtBQUFBOztBQWNBakUsVUFBVSxDQUFDa0UsWUFBWDtBQUFBLHNEQUEwQixXQUE2QkMsS0FBSyxHQUFHLE1BQXJDLEVBQTZDO0FBRXJFLFFBQUlwQyxnQkFBRWUsTUFBRixDQUFTOUMsVUFBVSxDQUFDa0IsYUFBcEIsRUFBbUM2QixPQUFuQyxDQUEyQ29CLEtBQTNDLE1BQXNELENBQUMsQ0FBM0QsRUFBOEQ7QUFDNUQsWUFBTSxJQUFJOUIsS0FBSixDQUFXLCtCQUE4QjhCLEtBQU0sdUJBQXNCcEMsZ0JBQUVlLE1BQUYsQ0FBUzlDLFVBQVUsQ0FBQ2tCLGFBQXBCLENBQW1DLEVBQXhHLENBQU47QUFDRDs7QUFDRCxVQUFNLEtBQUt3QixVQUFMLENBQWdCLENBQUMsU0FBRCxFQUFZLE9BQVosRUFBcUJ5QixLQUFyQixDQUFoQixDQUFOO0FBQ0QsR0FORDs7QUFBQSxrQkFBeUNELFlBQXpDO0FBQUE7QUFBQTtBQUFBOztlQVFlbEUsVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBsb2cgZnJvbSAnLi4vbG9nZ2VyLmpzJztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5cblxuY29uc3QgUEhPTkVfTlVNQkVSX1BBVFRFUk4gPSAvXlsrXT9bKF0/WzAtOV0qWyldP1stXFxzLl0/WzAtOV0qWy1cXHMuXT9bMC05XXsyLH0kL2ltO1xuXG5sZXQgZW11TWV0aG9kcyA9IHt9O1xuZW11TWV0aG9kcy5QT1dFUl9BQ19TVEFURVMgPSB7XG4gIFBPV0VSX0FDX09OOiAnb24nLFxuICBQT1dFUl9BQ19PRkY6ICdvZmYnXG59O1xuZW11TWV0aG9kcy5HU01fQ0FMTF9BQ1RJT05TID0ge1xuICBHU01fQ0FMTDogJ2NhbGwnLFxuICBHU01fQUNDRVBUOiAnYWNjZXB0JyxcbiAgR1NNX0NBTkNFTDogJ2NhbmNlbCcsXG4gIEdTTV9IT0xEOiAnaG9sZCdcbn07XG5lbXVNZXRob2RzLkdTTV9WT0lDRV9TVEFURVMgPSB7XG4gIEdTTV9WT0lDRV9VTlJFR0lTVEVSRUQ6ICd1bnJlZ2lzdGVyZWQnLFxuICBHU01fVk9JQ0VfSE9NRTogJ2hvbWUnLFxuICBHU01fVk9JQ0VfUk9BTUlORzogJ3JvYW1pbmcnLFxuICBHU01fVk9JQ0VfU0VBUkNISU5HOiAnc2VhcmNoaW5nJyxcbiAgR1NNX1ZPSUNFX0RFTklFRDogJ2RlbmllZCcsXG4gIEdTTV9WT0lDRV9PRkY6ICdvZmYnLFxuICBHU01fVk9JQ0VfT046ICdvbidcbn07XG5lbXVNZXRob2RzLkdTTV9TSUdOQUxfU1RSRU5HVEhTID0gWzAsIDEsIDIsIDMsIDRdO1xuXG5lbXVNZXRob2RzLk5FVFdPUktfU1BFRUQgPSB7XG4gIEdTTTogJ2dzbScsIC8vIEdTTS9DU0QgKHVwOiAxNC40LCBkb3duOiAxNC40KS5cbiAgU0NTRDogJ3Njc2QnLCAvLyBIU0NTRCAodXA6IDE0LjQsIGRvd246IDU3LjYpLlxuICBHUFJTOiAnZ3BycycsIC8vIEdQUlMgKHVwOiAyOC44LCBkb3duOiA1Ny42KS5cbiAgRURHRTogJ2VkZ2UnLCAvLyBFREdFL0VHUFJTICh1cDogNDczLjYsIGRvd246IDQ3My42KS5cbiAgVU1UUzogJ3VtdHMnLCAvLyBVTVRTLzNHICh1cDogMzg0LjAsIGRvd246IDM4NC4wKS5cbiAgSFNEUEE6ICdoc2RwYScsIC8vIEhTRFBBICh1cDogNTc2MC4wLCBkb3duOiAxMyw5ODAuMCkuXG4gIExURTogJ2x0ZScsIC8vIExURSAodXA6IDU4LDAwMCwgZG93bjogMTczLDAwMCkuXG4gIEVWRE86ICdldmRvJywgLy8gRVZETyAodXA6IDc1LDAwMCwgZG93bjogMjgwLDAwMCkuXG4gIEZVTEw6ICdmdWxsJyAvLyBObyBsaW1pdCwgdGhlIGRlZmF1bHQgKHVwOiAwLjAsIGRvd246IDAuMCkuXG59O1xuXG4vKipcbiAqIENoZWNrIHRoZSBlbXVsYXRvciBzdGF0ZS5cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIEVtdWxhdG9yIGlzIHZpc2libGUgdG8gYWRiLlxuICovXG5lbXVNZXRob2RzLmlzRW11bGF0b3JDb25uZWN0ZWQgPSBhc3luYyBmdW5jdGlvbiBpc0VtdWxhdG9yQ29ubmVjdGVkICgpIHtcbiAgbGV0IGVtdWxhdG9ycyA9IGF3YWl0IHRoaXMuZ2V0Q29ubmVjdGVkRW11bGF0b3JzKCk7XG4gIHJldHVybiAhIV8uZmluZChlbXVsYXRvcnMsICh4KSA9PiB4ICYmIHgudWRpZCA9PT0gdGhpcy5jdXJEZXZpY2VJZCk7XG59O1xuXG4vKipcbiAqIFZlcmlmeSB0aGUgZW11bGF0b3IgaXMgY29ubmVjdGVkLlxuICpcbiAqIEB0aHJvd3Mge2Vycm9yfSBJZiBFbXVsYXRvciBpcyBub3QgdmlzaWJsZSB0byBhZGIuXG4gKi9cbmVtdU1ldGhvZHMudmVyaWZ5RW11bGF0b3JDb25uZWN0ZWQgPSBhc3luYyBmdW5jdGlvbiB2ZXJpZnlFbXVsYXRvckNvbm5lY3RlZCAoKSB7XG4gIGlmICghKGF3YWl0IHRoaXMuaXNFbXVsYXRvckNvbm5lY3RlZCgpKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgVGhlIGVtdWxhdG9yIFwiJHt0aGlzLmN1ckRldmljZUlkfVwiIHdhcyB1bmV4cGVjdGVkbHkgZGlzY29ubmVjdGVkYCk7XG4gIH1cbn07XG5cbi8qKlxuICogRW11bGF0ZSBmaW5nZXJwcmludCB0b3VjaCBldmVudCBvbiB0aGUgY29ubmVjdGVkIGVtdWxhdG9yLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBmaW5nZXJwcmludElkIC0gVGhlIElEIG9mIHRoZSBmaW5nZXJwcmludC5cbiAqL1xuZW11TWV0aG9kcy5maW5nZXJwcmludCA9IGFzeW5jIGZ1bmN0aW9uIGZpbmdlcnByaW50IChmaW5nZXJwcmludElkKSB7XG4gIGlmICghZmluZ2VycHJpbnRJZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignRmluZ2VycHJpbnQgaWQgcGFyYW1ldGVyIG11c3QgYmUgZGVmaW5lZCcpO1xuICB9XG4gIC8vIHRoZSBtZXRob2QgdXNlZCBvbmx5IHdvcmtzIGZvciBBUEkgbGV2ZWwgMjMgYW5kIGFib3ZlXG4gIGxldCBsZXZlbCA9IGF3YWl0IHRoaXMuZ2V0QXBpTGV2ZWwoKTtcbiAgaWYgKGxldmVsIDwgMjMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYERldmljZSBBUEkgTGV2ZWwgbXVzdCBiZSA+PSAyMy4gQ3VycmVudCBBcGkgbGV2ZWwgJyR7bGV2ZWx9J2ApO1xuICB9XG4gIGF3YWl0IHRoaXMuYWRiRXhlY0VtdShbJ2ZpbmdlcicsICd0b3VjaCcsIGZpbmdlcnByaW50SWRdKTtcbn07XG5cbi8qKlxuICogQ2hhbmdlIHRoZSBkaXNwbGF5IG9yaWVudGF0aW9uIG9uIHRoZSBjb25uZWN0ZWQgZW11bGF0b3IuXG4gKiBUaGUgb3JpZW50YXRpb24gaXMgY2hhbmdlZCAoUEkvMiBpcyBhZGRlZCkgZXZlcnkgdGltZVxuICogdGhpcyBtZXRob2QgaXMgY2FsbGVkLlxuICovXG5lbXVNZXRob2RzLnJvdGF0ZSA9IGFzeW5jIGZ1bmN0aW9uIHJvdGF0ZSAoKSB7XG4gIGF3YWl0IHRoaXMuYWRiRXhlY0VtdShbJ3JvdGF0ZSddKTtcbn07XG5cbi8qKlxuICogRW11bGF0ZSBwb3dlciBzdGF0ZSBjaGFuZ2Ugb24gdGhlIGNvbm5lY3RlZCBlbXVsYXRvci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RhdGUgWydvbiddIC0gRWl0aGVyICdvbicgb3IgJ29mZicuXG4gKi9cbmVtdU1ldGhvZHMucG93ZXJBQyA9IGFzeW5jIGZ1bmN0aW9uIHBvd2VyQUMgKHN0YXRlID0gJ29uJykge1xuICBpZiAoXy52YWx1ZXMoZW11TWV0aG9kcy5QT1dFUl9BQ19TVEFURVMpLmluZGV4T2Yoc3RhdGUpID09PSAtMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgV3JvbmcgcG93ZXIgQUMgc3RhdGUgc2VudCAnJHtzdGF0ZX0nLiBTdXBwb3J0ZWQgdmFsdWVzOiAke18udmFsdWVzKGVtdU1ldGhvZHMuUE9XRVJfQUNfU1RBVEVTKX1dYCk7XG4gIH1cbiAgYXdhaXQgdGhpcy5hZGJFeGVjRW11KFsncG93ZXInLCAnYWMnLCBzdGF0ZV0pO1xufTtcblxuLyoqXG4gKiBFbXVsYXRlIHBvd2VyIGNhcGFjaXR5IGNoYW5nZSBvbiB0aGUgY29ubmVjdGVkIGVtdWxhdG9yLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gcGVyY2VudCBbMTAwXSAtIFBlcmNlbnRhZ2UgdmFsdWUgaW4gcmFuZ2UgWzAsIDEwMF0uXG4gKi9cbmVtdU1ldGhvZHMucG93ZXJDYXBhY2l0eSA9IGFzeW5jIGZ1bmN0aW9uIHBvd2VyQ2FwYWNpdHkgKHBlcmNlbnQgPSAxMDApIHtcbiAgcGVyY2VudCA9IHBhcnNlSW50KHBlcmNlbnQsIDEwKTtcbiAgaWYgKGlzTmFOKHBlcmNlbnQpIHx8IHBlcmNlbnQgPCAwIHx8IHBlcmNlbnQgPiAxMDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBwZXJjZW50YWdlIHZhbHVlIHNob3VsZCBiZSB2YWxpZCBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgMTAwYCk7XG4gIH1cbiAgYXdhaXQgdGhpcy5hZGJFeGVjRW11KFsncG93ZXInLCAnY2FwYWNpdHknLCBwZXJjZW50XSk7XG59O1xuXG4vKipcbiAqIEVtdWxhdGUgcG93ZXIgb2ZmIGV2ZW50IG9uIHRoZSBjb25uZWN0ZWQgZW11bGF0b3IuXG4gKi9cbmVtdU1ldGhvZHMucG93ZXJPRkYgPSBhc3luYyBmdW5jdGlvbiBwb3dlck9GRiAoKSB7XG4gIGF3YWl0IHRoaXMucG93ZXJBQyhlbXVNZXRob2RzLlBPV0VSX0FDX1NUQVRFUy5QT1dFUl9BQ19PRkYpO1xuICBhd2FpdCB0aGlzLnBvd2VyQ2FwYWNpdHkoMCk7XG59O1xuXG4vKipcbiAqIEVtdWxhdGUgc2VuZCBTTVMgZXZlbnQgb24gdGhlIGNvbm5lY3RlZCBlbXVsYXRvci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IHBob25lTnVtYmVyIC0gVGhlIHBob25lIG51bWJlciBvZiBtZXNzYWdlIHNlbmRlci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIFsnJ10gLSBUaGUgbWVzc2FnZSBjb250ZW50LlxuICogQHRocm93cyB7ZXJyb3J9IElmIHBob25lIG51bWJlciBoYXMgaW52YWxpZCBmb3JtYXQuXG4gKi9cbmVtdU1ldGhvZHMuc2VuZFNNUyA9IGFzeW5jIGZ1bmN0aW9uIHNlbmRTTVMgKHBob25lTnVtYmVyLCBtZXNzYWdlID0gJycpIHtcbiAgbWVzc2FnZSA9IG1lc3NhZ2UudHJpbSgpO1xuICBpZiAobWVzc2FnZSA9PT0gJycpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NlbmRpbmcgYW4gU01TIHJlcXVpcmVzIGEgbWVzc2FnZScpO1xuICB9XG4gIHBob25lTnVtYmVyID0gYCR7cGhvbmVOdW1iZXJ9YC5yZXBsYWNlKC9cXHMqLywgJycpO1xuICBpZiAoIVBIT05FX05VTUJFUl9QQVRURVJOLnRlc3QocGhvbmVOdW1iZXIpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHNlbmRTTVMgcGhvbmVOdW1iZXIgcGFyYW0gJHtwaG9uZU51bWJlcn1gKTtcbiAgfVxuICBhd2FpdCB0aGlzLmFkYkV4ZWNFbXUoWydzbXMnLCAnc2VuZCcsIHBob25lTnVtYmVyLCBtZXNzYWdlXSk7XG59O1xuXG4vKipcbiAqIEVtdWxhdGUgR1NNIGNhbGwgZXZlbnQgb24gdGhlIGNvbm5lY3RlZCBlbXVsYXRvci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IHBob25lTnVtYmVyIC0gVGhlIHBob25lIG51bWJlciBvZiB0aGUgY2FsbGVyLlxuICogQHBhcmFtIHtzdHJpbmd9IGFjdGlvbiBbJyddIC0gT25lIG9mIGF2YWlsYWJsZSBHU00gY2FsbCBhY3Rpb25zLlxuICogQHRocm93cyB7ZXJyb3J9IElmIHBob25lIG51bWJlciBoYXMgaW52YWxpZCBmb3JtYXQuXG4gKiBAdGhyb3dzIHtlcnJvcn0gSWYgX2FjdGlvbl8gdmFsdWUgaXMgaW52YWxpZC5cbiAqL1xuZW11TWV0aG9kcy5nc21DYWxsID0gYXN5bmMgZnVuY3Rpb24gZ3NtQ2FsbCAocGhvbmVOdW1iZXIsIGFjdGlvbiA9ICcnKSB7XG4gIGlmIChfLnZhbHVlcyhlbXVNZXRob2RzLkdTTV9DQUxMX0FDVElPTlMpLmluZGV4T2YoYWN0aW9uKSA9PT0gLTEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZ3NtIGFjdGlvbiBwYXJhbSAke2FjdGlvbn0uIFN1cHBvcnRlZCB2YWx1ZXM6ICR7Xy52YWx1ZXMoZW11TWV0aG9kcy5HU01fQ0FMTF9BQ1RJT05TKX1gKTtcbiAgfVxuICBwaG9uZU51bWJlciA9IGAke3Bob25lTnVtYmVyfWAucmVwbGFjZSgvXFxzKi8sICcnKTtcbiAgaWYgKCFQSE9ORV9OVU1CRVJfUEFUVEVSTi50ZXN0KHBob25lTnVtYmVyKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBnc21DYWxsIHBob25lTnVtYmVyIHBhcmFtICR7cGhvbmVOdW1iZXJ9YCk7XG4gIH1cbiAgYXdhaXQgdGhpcy5hZGJFeGVjRW11KFsnZ3NtJywgYWN0aW9uLCBwaG9uZU51bWJlcl0pO1xufTtcblxuLyoqXG4gKiBFbXVsYXRlIEdTTSBzaWduYWwgc3RyZW5ndGggY2hhbmdlIGV2ZW50IG9uIHRoZSBjb25uZWN0ZWQgZW11bGF0b3IuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBzdHJlbmd0aCBbNF0gLSBBIG51bWJlciBpbiByYW5nZSBbMCwgNF07XG4gKiBAdGhyb3dzIHtlcnJvcn0gSWYgX3N0cmVuZ3RoXyB2YWx1ZSBpcyBpbnZhbGlkLlxuICovXG5lbXVNZXRob2RzLmdzbVNpZ25hbCA9IGFzeW5jIGZ1bmN0aW9uIGdzbVNpZ25hbCAoc3RyZW5ndGggPSA0KSB7XG4gIHN0cmVuZ3RoID0gcGFyc2VJbnQoc3RyZW5ndGgsIDEwKTtcbiAgaWYgKGVtdU1ldGhvZHMuR1NNX1NJR05BTF9TVFJFTkdUSFMuaW5kZXhPZihzdHJlbmd0aCkgPT09IC0xKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHNpZ25hbCBzdHJlbmd0aCBwYXJhbSAke3N0cmVuZ3RofS4gU3VwcG9ydGVkIHZhbHVlczogJHtfLnZhbHVlcyhlbXVNZXRob2RzLkdTTV9TSUdOQUxfU1RSRU5HVEhTKX1gKTtcbiAgfVxuICBsb2cuaW5mbygnZ3NtIHNpZ25hbC1wcm9maWxlIDxzdHJlbmd0aD4gY2hhbmdlcyB0aGUgcmVwb3J0ZWQgc3RyZW5ndGggb24gbmV4dCAoMTVzKSB1cGRhdGUuJyk7XG4gIGF3YWl0IHRoaXMuYWRiRXhlY0VtdShbJ2dzbScsICdzaWduYWwtcHJvZmlsZScsIHN0cmVuZ3RoXSk7XG59O1xuXG4vKipcbiAqIEVtdWxhdGUgR1NNIHZvaWNlIGV2ZW50IG9uIHRoZSBjb25uZWN0ZWQgZW11bGF0b3IuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0YXRlIFsnb24nXSAtIEVpdGhlciAnb24nIG9yICdvZmYnLlxuICogQHRocm93cyB7ZXJyb3J9IElmIF9zdGF0ZV8gdmFsdWUgaXMgaW52YWxpZC5cbiAqL1xuZW11TWV0aG9kcy5nc21Wb2ljZSA9IGFzeW5jIGZ1bmN0aW9uIGdzbVZvaWNlIChzdGF0ZSA9ICdvbicpIHtcbiAgLy8gZ3NtIHZvaWNlIDxzdGF0ZT4gYWxsb3dzIHlvdSB0byBjaGFuZ2UgdGhlIHN0YXRlIG9mIHlvdXIgR1BSUyBjb25uZWN0aW9uXG4gIGlmIChfLnZhbHVlcyhlbXVNZXRob2RzLkdTTV9WT0lDRV9TVEFURVMpLmluZGV4T2Yoc3RhdGUpID09PSAtMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBnc20gdm9pY2Ugc3RhdGUgcGFyYW0gJHtzdGF0ZX0uIFN1cHBvcnRlZCB2YWx1ZXM6ICR7Xy52YWx1ZXMoZW11TWV0aG9kcy5HU01fVk9JQ0VfU1RBVEVTKX1gKTtcbiAgfVxuICBhd2FpdCB0aGlzLmFkYkV4ZWNFbXUoWydnc20nLCAndm9pY2UnLCBzdGF0ZV0pO1xufTtcblxuLyoqXG4gKiBFbXVsYXRlIG5ldHdvcmsgc3BlZWQgY2hhbmdlIGV2ZW50IG9uIHRoZSBjb25uZWN0ZWQgZW11bGF0b3IuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHNwZWVkIFsnZnVsbCddIC0gT25lIG9mIHBvc3NpYmxlIE5FVFdPUktfU1BFRUQgdmFsdWVzLlxuICogQHRocm93cyB7ZXJyb3J9IElmIF9zcGVlZF8gdmFsdWUgaXMgaW52YWxpZC5cbiAqL1xuZW11TWV0aG9kcy5uZXR3b3JrU3BlZWQgPSBhc3luYyBmdW5jdGlvbiBuZXR3b3JrU3BlZWQgKHNwZWVkID0gJ2Z1bGwnKSB7XG4gIC8vIG5ldHdvcmsgc3BlZWQgPHNwZWVkPiBhbGxvd3MgeW91IHRvIHNldCB0aGUgbmV0d29yayBzcGVlZCBlbXVsYXRpb24uXG4gIGlmIChfLnZhbHVlcyhlbXVNZXRob2RzLk5FVFdPUktfU1BFRUQpLmluZGV4T2Yoc3BlZWQpID09PSAtMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBuZXR3b3JrIHNwZWVkIHBhcmFtICR7c3BlZWR9LiBTdXBwb3J0ZWQgdmFsdWVzOiAke18udmFsdWVzKGVtdU1ldGhvZHMuTkVUV09SS19TUEVFRCl9YCk7XG4gIH1cbiAgYXdhaXQgdGhpcy5hZGJFeGVjRW11KFsnbmV0d29yaycsICdzcGVlZCcsIHNwZWVkXSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBlbXVNZXRob2RzO1xuIl0sImZpbGUiOiJsaWIvdG9vbHMvYWRiLWVtdS1jb21tYW5kcy5qcyIsInNvdXJjZVJvb3QiOiIuLi8uLi8uLiJ9
