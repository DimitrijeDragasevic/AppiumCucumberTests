"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.helpers = exports.commands = void 0;

require("source-map-support/register");

let commands = {},
    helpers = {},
    extensions = {};
exports.helpers = helpers;
exports.commands = commands;

commands.getDevicePixelRatio = async function () {
  const screenHeight = (await this.getWindowSize()).height;
  const screenHeightOfPlusDevices = 736;
  return screenHeight === screenHeightOfPlusDevices ? 3.0 : 2.0;
};

commands.getViewportRect = async function () {
  const scale = await this.getDevicePixelRatio();
  const statusBarHeight = Math.round((await this.getStatusBarHeight()) * scale);
  const windowSize = await this.getWindowSize();
  return {
    left: 0,
    top: statusBarHeight,
    width: windowSize.width * scale,
    height: windowSize.height * scale - statusBarHeight
  };
};

commands.getStatusBarHeight = async function () {
  const command = 'UIATarget.localTarget().frontMostApp().statusBar().rect().size.height;';
  return await this.uiAutoClient.sendCommand(command);
};

Object.assign(extensions, commands, helpers);
var _default = extensions;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9jb21tYW5kcy9kZXZpY2UuanMiXSwibmFtZXMiOlsiY29tbWFuZHMiLCJoZWxwZXJzIiwiZXh0ZW5zaW9ucyIsImdldERldmljZVBpeGVsUmF0aW8iLCJzY3JlZW5IZWlnaHQiLCJnZXRXaW5kb3dTaXplIiwiaGVpZ2h0Iiwic2NyZWVuSGVpZ2h0T2ZQbHVzRGV2aWNlcyIsImdldFZpZXdwb3J0UmVjdCIsInNjYWxlIiwic3RhdHVzQmFySGVpZ2h0IiwiTWF0aCIsInJvdW5kIiwiZ2V0U3RhdHVzQmFySGVpZ2h0Iiwid2luZG93U2l6ZSIsImxlZnQiLCJ0b3AiLCJ3aWR0aCIsImNvbW1hbmQiLCJ1aUF1dG9DbGllbnQiLCJzZW5kQ29tbWFuZCIsIk9iamVjdCIsImFzc2lnbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsSUFBSUEsUUFBUSxHQUFHLEVBQWY7QUFBQSxJQUFtQkMsT0FBTyxHQUFHLEVBQTdCO0FBQUEsSUFBaUNDLFVBQVUsR0FBRyxFQUE5Qzs7OztBQUdBRixRQUFRLENBQUNHLG1CQUFULEdBQStCLGtCQUFrQjtBQUMvQyxRQUFNQyxZQUFZLEdBQUcsQ0FBQyxNQUFNLEtBQUtDLGFBQUwsRUFBUCxFQUE2QkMsTUFBbEQ7QUFFQSxRQUFNQyx5QkFBeUIsR0FBRyxHQUFsQztBQUNBLFNBQU9ILFlBQVksS0FBS0cseUJBQWpCLEdBQTZDLEdBQTdDLEdBQW1ELEdBQTFEO0FBQ0QsQ0FMRDs7QUFPQVAsUUFBUSxDQUFDUSxlQUFULEdBQTJCLGtCQUFrQjtBQUMzQyxRQUFNQyxLQUFLLEdBQUcsTUFBTSxLQUFLTixtQkFBTCxFQUFwQjtBQUVBLFFBQU1PLGVBQWUsR0FBR0MsSUFBSSxDQUFDQyxLQUFMLENBQVcsT0FBTSxLQUFLQyxrQkFBTCxFQUFOLElBQWtDSixLQUE3QyxDQUF4QjtBQUNBLFFBQU1LLFVBQVUsR0FBRyxNQUFNLEtBQUtULGFBQUwsRUFBekI7QUFJQSxTQUFPO0FBQ0xVLElBQUFBLElBQUksRUFBRSxDQUREO0FBRUxDLElBQUFBLEdBQUcsRUFBRU4sZUFGQTtBQUdMTyxJQUFBQSxLQUFLLEVBQUVILFVBQVUsQ0FBQ0csS0FBWCxHQUFtQlIsS0FIckI7QUFJTEgsSUFBQUEsTUFBTSxFQUFJUSxVQUFVLENBQUNSLE1BQVgsR0FBb0JHLEtBQXJCLEdBQThCQztBQUpsQyxHQUFQO0FBTUQsQ0FkRDs7QUFnQkFWLFFBQVEsQ0FBQ2Esa0JBQVQsR0FBOEIsa0JBQWtCO0FBQzlDLFFBQU1LLE9BQU8sR0FBRyx3RUFBaEI7QUFDQSxTQUFPLE1BQU0sS0FBS0MsWUFBTCxDQUFrQkMsV0FBbEIsQ0FBOEJGLE9BQTlCLENBQWI7QUFDRCxDQUhEOztBQUtBRyxNQUFNLENBQUNDLE1BQVAsQ0FBY3BCLFVBQWQsRUFBMEJGLFFBQTFCLEVBQW9DQyxPQUFwQztlQUVlQyxVIiwic291cmNlc0NvbnRlbnQiOlsibGV0IGNvbW1hbmRzID0ge30sIGhlbHBlcnMgPSB7fSwgZXh0ZW5zaW9ucyA9IHt9O1xuXG4vLyB0aGlzIGZ1bmN0aW9uIGlzIG1lbW9pemVkIGluIElPU0RyaXZlcidzIGNvbnN0cnVjdG9yXG5jb21tYW5kcy5nZXREZXZpY2VQaXhlbFJhdGlvID0gYXN5bmMgZnVuY3Rpb24gKCkge1xuICBjb25zdCBzY3JlZW5IZWlnaHQgPSAoYXdhaXQgdGhpcy5nZXRXaW5kb3dTaXplKCkpLmhlaWdodDtcbiAgLy8gVGhlcmUgaXMgbm8gd2F5IHRvIGdyYWIgc2NhbGUgZnJvbSBVSUF1dG9tYXRpb24uIEFsbCBkZXZpY2VzIGhhdmUgc2NhbGUgMi4wIGV4Y2VwdCBpUGhvbmUgNissIGlQaG9uZSA2cyssIGlQaG9uZTcrIC0gMy4wLlxuICBjb25zdCBzY3JlZW5IZWlnaHRPZlBsdXNEZXZpY2VzID0gNzM2O1xuICByZXR1cm4gc2NyZWVuSGVpZ2h0ID09PSBzY3JlZW5IZWlnaHRPZlBsdXNEZXZpY2VzID8gMy4wIDogMi4wO1xufTtcblxuY29tbWFuZHMuZ2V0Vmlld3BvcnRSZWN0ID0gYXN5bmMgZnVuY3Rpb24gKCkge1xuICBjb25zdCBzY2FsZSA9IGF3YWl0IHRoaXMuZ2V0RGV2aWNlUGl4ZWxSYXRpbygpO1xuICAvLyBzdGF0dXMgYmFyIGhlaWdodCBjb21lcyBpbiB1bnNjYWxlZCwgc28gc2NhbGUgaXRcbiAgY29uc3Qgc3RhdHVzQmFySGVpZ2h0ID0gTWF0aC5yb3VuZChhd2FpdCB0aGlzLmdldFN0YXR1c0JhckhlaWdodCgpICogc2NhbGUpO1xuICBjb25zdCB3aW5kb3dTaXplID0gYXdhaXQgdGhpcy5nZXRXaW5kb3dTaXplKCk7XG5cbiAgLy8gaW9zIHJldHVybnMgY29vcmRpbmF0ZXMvZGltZW5zaW9ucyBpbiBsb2dpY2FsIHBpeGVscywgbm90IGRldmljZSBwaXhlbHMsXG4gIC8vIHNvIHNjYWxlIHVwIHRvIGRldmljZSBwaXhlbHMuIHN0YXR1cyBiYXIgaGVpZ2h0IGlzIGFscmVhZHkgc2NhbGVkLlxuICByZXR1cm4ge1xuICAgIGxlZnQ6IDAsXG4gICAgdG9wOiBzdGF0dXNCYXJIZWlnaHQsXG4gICAgd2lkdGg6IHdpbmRvd1NpemUud2lkdGggKiBzY2FsZSxcbiAgICBoZWlnaHQ6ICgod2luZG93U2l6ZS5oZWlnaHQgKiBzY2FsZSkgLSBzdGF0dXNCYXJIZWlnaHQpLFxuICB9O1xufTtcblxuY29tbWFuZHMuZ2V0U3RhdHVzQmFySGVpZ2h0ID0gYXN5bmMgZnVuY3Rpb24gKCkge1xuICBjb25zdCBjb21tYW5kID0gJ1VJQVRhcmdldC5sb2NhbFRhcmdldCgpLmZyb250TW9zdEFwcCgpLnN0YXR1c0JhcigpLnJlY3QoKS5zaXplLmhlaWdodDsnO1xuICByZXR1cm4gYXdhaXQgdGhpcy51aUF1dG9DbGllbnQuc2VuZENvbW1hbmQoY29tbWFuZCk7XG59O1xuXG5PYmplY3QuYXNzaWduKGV4dGVuc2lvbnMsIGNvbW1hbmRzLCBoZWxwZXJzKTtcbmV4cG9ydCB7IGNvbW1hbmRzLCBoZWxwZXJzIH07XG5leHBvcnQgZGVmYXVsdCBleHRlbnNpb25zO1xuIl0sImZpbGUiOiJsaWIvY29tbWFuZHMvZGV2aWNlLmpzIiwic291cmNlUm9vdCI6Ii4uLy4uLy4uIn0=
